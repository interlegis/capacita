{% extends 'capacita/base.html' %}

{% block content %}

    <div class="table_div">
        <div class="ui accordion field">
            <div class="title">
                <i class="dropdown icon"></i>
                Filtros
            </div>
            <div class="content">
                <form class="ui form" method="get">
                    <div class="three fields">
                        <div class="select_area field">
                            <label>Área de Interesse</label>
                            <select name="area" id="">
                                <option value="">-------------</option>
                                {% for area in areas %}
                                <option value="{{area.cod_area_conhecimento}}">{{area.txt_descricao}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="field">
                            <label>Nível</label>
                            <select name="nivel" id="">
                                <option value="">-------------</option>
                                {% for nivel in niveis %}
                                <option value="{{nivel.cod_nivel}}">{{nivel.nome}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="field">
                            <label>Plano de Capacitação</label>
                            <select name="plano" id="">
                                <option value="">-------------</option>
                                {% for plano in planos %}
                                <option value="{{plano.cod_plano_capacitacao}}">{{plano}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="three fields">
                        <div class="field">
                            <label>Turno</label>
                            <select name="turno" id="">
                                <option value="">-------------</option>
                                {% for turno in turnos %}
                                <option value="{{turno.cod_turno}}">{{turno.nome}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="field">
                            <label>Quantidade aproximada de servidores</label>
                            <input type="text" name="qtd_servidor">
                        </div>
                    </div>
                    <div class="field">
                        <button class="ui button basic secondary" type="submit">Filtrar</button>
                    </div>
                </form>
            </div>
        </div>
        <br>

        <div>
            <h3 style="float: left;" class="ui dividing header">Necessidades</h3>
            <a style="float: right;" href="/relatorio/">Gerar Planilha</a>
        </div>
        <table class="ui celled padded table">
            <thead>
                <tr class="center aligned">
                <th>Plano Capacitação</th>
                <th>Iniciativa</th>
                <th>Quantidade de Servidores</th>
                <th>Área Conhecimento</th>
                <th>Turno</th>
                <th>Ver</th>
                <th>Editar</th>
                <th>Excluir</th>
                </tr>
            </thead>
            <tbody>
                
                {% for necessidade in necessidades %}    
                    <tr class="center aligned">
                        <td>{{necessidade.cod_plano_capacitacao}}</td>
                        <td>{{necessidade.cod_iniciativa}}</td>
                        <td>{{necessidade.qtd_servidor}}</td>
                        <td>{{necessidade.cod_sub_area_conhecimento}}</td>
                        <td>{{necessidade.cod_turno }}</td>
                        <td><a class="links" href="{% url 'necessidade_show' necessidade.cod_necessidade %}"><i class="search icon"></i></a></td>
                        <td><a class="links" href="{% url 'necessidade_edit' necessidade.cod_necessidade %}"><i class="pencil icon"></i></a></td>
                        <td><a class="links" href="{% url 'necessidade_delete' necessidade.cod_necessidade %}"><i class="delete icon"></i></a></td>
                    </tr>
                {% endfor %}

            </tbody>
        </table>
        <br>
        <a href="/necessidade/new/"><button class="ui button basic secondary">Novo</button></a>
    
    </div>

    {% endblock %}
